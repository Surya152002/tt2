<!DOCTYPE html>
<html>
<head>
    <title>Beta Sensor Value</title>
</head>
<body>
    <button onclick="connectBluetooth()">Connect to Bluetooth</button>
    <div id="output"></div> <!-- This div will display the information -->

    <script>
        async function connectBluetooth() {
            const outputDiv = document.getElementById('output');
            try {
                const device = await navigator.bluetooth.requestDevice({
                    acceptAllDevices: true,
                    optionalServices: ['device_information']  // List known services here if any
                });

                const server = await device.gatt.connect();
                const services = await server.getPrimaryServices();

                let outputText = '';
                for (const service of services) {
                    outputText += `Service: ${service.uuid}<br>`;
                    console.log(`Service: ${service.uuid}`);
                    const characteristics = await service.getCharacteristics();

                    for (const characteristic of characteristics) {
                        outputText += `&nbsp;&nbsp;Characteristic: ${characteristic.uuid}<br>`;
                        console.log(`  Characteristic: ${characteristic.uuid}`);
                    }
                }
                outputDiv.innerHTML = outputText;  // Set the HTML content of the output div
            } catch (error) {
                console.error('Bluetooth Error:', error);
                outputDiv.innerHTML = `Bluetooth Error: ${error}`;  // Display error in the output div
            }
        }
    </script>
</body>
</html>
