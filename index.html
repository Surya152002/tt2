<!DOCTYPE html>
<html>
<head>
  <title>Beta Sensor Value</title>
</head>
<body>
  <button id="startButton">Start</button>

  <script>
    // Function to send sensor data to the laptop
    function sendSensorData(data) {
      // Create a WebSocket connection to the laptop's server
      const socket = new WebSocket('ws://192.168.56.1:3000'); // Replace with the laptop's IP address

      // Event listener for when the WebSocket connection is established
      socket.addEventListener('open', (event) => {
        console.log('WebSocket connection established.');
        // Send data as a JSON string or in a format suitable for your application
        socket.send(JSON.stringify(data));
      });

      // Handle errors and close events as needed
      socket.addEventListener('error', (error) => {
        console.error('WebSocket error:', error);
      });

      socket.addEventListener('close', (event) => {
        console.log('WebSocket connection closed:', event.code, event.reason);
      });
    }

    // Mock sensor data collection
    function mockSensorData() {
      const interval = setInterval(() => {
        const beta = Math.random() * 180 - 90; // Simulate beta values between -90 and 90
        sendSensorData({ beta });
      }, 1000); // Adjust the interval as needed

      // Stop sending data after a certain time (e.g., 10 seconds)
      setTimeout(() => {
        clearInterval(interval);
        console.log('Sensor data collection stopped.');
      }, 10000);
    }

    // Add click event listener to the Start button
    document.getElementById('startButton').addEventListener('click', () => {
      mockSensorData();
    });
  </script>
</body>
</html>
